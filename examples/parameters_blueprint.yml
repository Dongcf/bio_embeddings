# global options

global:
  # Required: Path to a Fasta file
  sequences_file: /path/to/sequences.fasta
  # Required: String for output
  prefix: my_embeddings

  ## Optional: file manager
  # file_manager: [*filesystem]

## Stages are executed in sequential order as they are outlined in this file.
## Stage names must be different!! If not: they will overwrite each_other
## The same stage type (e.g. embed,..) can be executed multiple types.
## Dependencies for a stage are defined in the dependencies parameter

## Stage options notation:
## *: denotes the default option
## @: denotes that the file or directory will be downloaded and stored locally if not provided

stage_1:
  type: embed
  ## Required. Options: seqvec, fasttext, glove, transformerxl, word2vec, albert
  protocol: seqvec

  ## Optional for protocol: seqvec
  # weights_file: @/path/to/file
  # options_file: @/path/to/file
  # vocabulary_file: @/path/to/file (must specify seqvec_version=2)
  # seqvec_version: [*1,2]
  ## The following parameter sets an upper bound on total AA to include when embedding many sequences.
  ## Adjust this parameter if CUDA runs out of memory! The default (15.000) works for a 1080 with 8GB RAM.
  # max_amino_acids: [*15000]
  ## The following parameters sets the amount of AA to include in a batch before writing to disk.
  ## Adjust this parameter if you run out of RAM! The default (100.000) works for a machine with 64GB RAM.
  # max_amino_acids_RAM: [*100000]


  ## Optional for protocol: transformerxl
  # model: [*base, large]
  # model_file: @/path/to/file
  # vocabulary_file: @/path/to/file

  ## Optional for protocol: fasttext, word2vec, glove
  # model_file: @/path/to/file

  ## Optional for protocol: albert
  # model_directory: @/path/to/directory

  ## Optional for protocol: seqvec, albert
  ## This parameter will reduce the embeddings to a vector of size L (L= length of protein)
  # reduce: [True, *False]

stage_2:
  type: extract_features
  dependes_on: stage_1
## Optional; inferred from embedder
# protocol: [seqvec]

## Optional for protocol: seqvec
# secondary_structure_checkpoint_file: @/path/to/file
# subcellular_location_checkpoint_file: @/path/to/file
